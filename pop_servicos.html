<html>

<head>
  <link href="css/style_pop.css" rel="stylesheet" />
  <title>Dj Celsinho</title>
</head>

<body>
  <main>
    <div>
      <h1 id="nome-produto">Título</h1>
      <!-- <img src="" id="imagem-produto"> -->
      <div class="slider">
        <button id="prevBtn">&#10094;</button>
        <img id="slider-img" src="" alt="">
        <button id="nextBtn">&#10095;</button>
      </div>
      <p id="descricao-produto">Descrição do serviço</p>

      <!-- Preenchimento das informações -->
      <script>
        //Função para capturar os parâmetros
        function getParametros(info) {
          const urlParametros = new URLSearchParams(window.location.search);
          return urlParametros.get(info);
        }

        //Preenche as informações da POP
        document.getElementById("nome-produto").textContent = getParametros("nomeProd")
        // document.getElementById("imagem-produto").src = getParametros("imagemProd")
        document.getElementById("descricao-produto").innerHTML = getParametros("descricaoProd")

        /*Controle do Slider*/
        const imagens = getParametros("imagemProd") ? getParametros("imagemProd").split(',') : [];
        let index = 0;
        const sliderImg = document.getElementById("slider-img");

        function MostrarImagem() {
          if (imagens.length > 0) {
            sliderImg.src = imagens[index];
          }
        }

        document.getElementById("prevBtn").onclick = function () {
          index = (index - 1 + imagens.length) % imagens.length;
          MostrarImagem();
        }

        document.getElementById("nextBtn").onclick = function () {
          index = (index + 1) % imagens.length;
          MostrarImagem();
        }

        //Exibe a primeira imagem
        MostrarImagem();
      </script>
    </div>
  </main>
</body>

</html>